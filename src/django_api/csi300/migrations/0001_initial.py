# Generated by Django 5.2.4 on 2025-09-26 02:34

import django.db.models.deletion
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
    ]

    operations = [
        migrations.CreateModel(
            name='CSI300Company',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(help_text='Company name', max_length=200)),
                ('ticker', models.CharField(blank=True, help_text='Stock ticker', max_length=20, null=True)),
                ('im_code', models.CharField(blank=True, help_text='IM Industry Code', max_length=50, null=True)),
                ('industry', models.CharField(blank=True, help_text='Industry classification', max_length=100, null=True)),
                ('sub_industry', models.CharField(blank=True, help_text='Sub-industry', max_length=100, null=True)),
                ('gics_industry', models.CharField(blank=True, help_text='GICS Industry', max_length=100, null=True)),
                ('gics_sub_industry', models.CharField(blank=True, help_text='GICS Sub-industry', max_length=100, null=True)),
                ('naming', models.CharField(blank=True, help_text='Company naming', max_length=200, null=True)),
                ('business_description', models.TextField(blank=True, help_text='Business description', null=True)),
                ('company_info', models.TextField(blank=True, help_text='Company info', null=True)),
                ('directors', models.CharField(blank=True, help_text='Directors', max_length=500, null=True)),
                ('price_local_currency', models.DecimalField(blank=True, decimal_places=6, help_text='Price in local currency', max_digits=20, null=True)),
                ('currency', models.CharField(blank=True, help_text='Currency', max_length=3, null=True)),
                ('total_return_2018_to_2025', models.DecimalField(blank=True, decimal_places=6, help_text='Total return 2018-2025', max_digits=15, null=True)),
                ('last_trade_date', models.DateField(blank=True, help_text='Last trade date', null=True)),
                ('price_52w_high', models.DecimalField(blank=True, decimal_places=6, help_text='52-week high', max_digits=20, null=True)),
                ('price_52w_low', models.DecimalField(blank=True, decimal_places=6, help_text='52-week low', max_digits=20, null=True)),
                ('market_cap_local', models.DecimalField(blank=True, decimal_places=2, help_text='Market cap (local)', max_digits=20, null=True)),
                ('market_cap_usd', models.DecimalField(blank=True, decimal_places=2, help_text='Market cap (USD)', max_digits=20, null=True)),
                ('total_revenue_local', models.DecimalField(blank=True, decimal_places=2, help_text='Total revenue (local)', max_digits=20, null=True)),
                ('ltm_revenue_local', models.DecimalField(blank=True, decimal_places=2, help_text='LTM revenue (local)', max_digits=20, null=True)),
                ('ntm_revenue_local', models.DecimalField(blank=True, decimal_places=2, help_text='NTM revenue (local)', max_digits=20, null=True)),
                ('total_assets_local', models.DecimalField(blank=True, decimal_places=2, help_text='Total assets (local)', max_digits=20, null=True)),
                ('net_assets_local', models.DecimalField(blank=True, decimal_places=2, help_text='Net assets (local)', max_digits=20, null=True)),
                ('total_debt_local', models.DecimalField(blank=True, decimal_places=2, help_text='Total debt (local)', max_digits=20, null=True)),
                ('net_profits_fy0', models.DecimalField(blank=True, decimal_places=2, help_text='Net profits FY0', max_digits=20, null=True)),
                ('operating_margin_trailing', models.DecimalField(blank=True, decimal_places=6, help_text='Operating margin (trailing)', max_digits=10, null=True)),
                ('operating_profits_per_share', models.DecimalField(blank=True, decimal_places=6, help_text='Operating profits per share', max_digits=10, null=True)),
                ('eps_trailing', models.DecimalField(blank=True, decimal_places=6, help_text='EPS trailing', max_digits=10, null=True)),
                ('eps_actual_fy0', models.DecimalField(blank=True, decimal_places=6, help_text='EPS actual FY0', max_digits=10, null=True)),
                ('eps_forecast_fy1', models.DecimalField(blank=True, decimal_places=6, help_text='EPS forecast FY1', max_digits=10, null=True)),
                ('eps_growth_percent', models.DecimalField(blank=True, decimal_places=6, help_text='EPS growth %', max_digits=10, null=True)),
                ('asset_turnover_ltm', models.DecimalField(blank=True, decimal_places=6, help_text='Asset turnover LTM', max_digits=10, null=True)),
                ('roa_trailing', models.DecimalField(blank=True, decimal_places=6, help_text='ROA trailing', max_digits=10, null=True)),
                ('roe_trailing', models.DecimalField(blank=True, decimal_places=6, help_text='ROE trailing', max_digits=10, null=True)),
                ('operating_leverage', models.DecimalField(blank=True, decimal_places=6, help_text='Operating leverage', max_digits=10, null=True)),
                ('altman_z_score_manufacturing', models.DecimalField(blank=True, decimal_places=6, help_text='Altman Z-score (manufacturing)', max_digits=10, null=True)),
                ('altman_z_score_non_manufacturing', models.DecimalField(blank=True, decimal_places=6, help_text='Altman Z-score (non-manufacturing)', max_digits=10, null=True)),
                ('ebitda_fy0', models.DecimalField(blank=True, decimal_places=2, help_text='EBITDA FY0', max_digits=20, null=True)),
                ('ebitda_fy_minus_1', models.DecimalField(blank=True, decimal_places=2, help_text='EBITDA FY-1', max_digits=20, null=True)),
                ('cash_flow_operations_fy0', models.DecimalField(blank=True, decimal_places=2, help_text='Cash flow operations FY0', max_digits=20, null=True)),
                ('cash_flow_operations_fy_minus_1', models.DecimalField(blank=True, decimal_places=2, help_text='Cash flow operations FY-1', max_digits=20, null=True)),
                ('interest_expense_fy0', models.DecimalField(blank=True, decimal_places=2, help_text='Interest expense FY0', max_digits=20, null=True)),
                ('effective_interest_rate', models.DecimalField(blank=True, decimal_places=6, help_text='Effective interest rate', max_digits=10, null=True)),
                ('interest_coverage_ratio', models.DecimalField(blank=True, decimal_places=6, help_text='Interest coverage ratio', max_digits=10, null=True)),
                ('debt_to_total_assets', models.DecimalField(blank=True, decimal_places=6, help_text='Debt to total assets', max_digits=10, null=True)),
                ('debt_to_equity', models.DecimalField(blank=True, decimal_places=6, help_text='Debt to equity', max_digits=10, null=True)),
                ('current_ratio', models.DecimalField(blank=True, decimal_places=6, help_text='Current ratio', max_digits=10, null=True)),
                ('quick_ratio', models.DecimalField(blank=True, decimal_places=6, help_text='Quick ratio', max_digits=10, null=True)),
                ('pe_ratio_trailing', models.DecimalField(blank=True, decimal_places=6, help_text='P/E ratio trailing', max_digits=10, null=True)),
                ('pe_ratio_consensus', models.DecimalField(blank=True, decimal_places=6, help_text='P/E ratio consensus', max_digits=10, null=True)),
                ('peg_ratio', models.DecimalField(blank=True, decimal_places=6, help_text='PEG ratio', max_digits=10, null=True)),
                ('dividend_yield_fy0', models.DecimalField(blank=True, decimal_places=6, help_text='Dividend yield FY0', max_digits=10, null=True)),
                ('dividend_payout_ratio', models.DecimalField(blank=True, decimal_places=6, help_text='Dividend payout ratio', max_digits=10, null=True)),
                ('dividend_local_currency', models.DecimalField(blank=True, decimal_places=6, help_text='Dividend (local currency)', max_digits=10, null=True)),
                ('dividend_3yr_cagr', models.DecimalField(blank=True, decimal_places=6, help_text='Dividend 3yr CAGR', max_digits=10, null=True)),
                ('dividend_5yr_cagr', models.DecimalField(blank=True, decimal_places=6, help_text='Dividend 5yr CAGR', max_digits=10, null=True)),
                ('dividend_10yr_cagr', models.DecimalField(blank=True, decimal_places=6, help_text='Dividend 10yr CAGR', max_digits=10, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'CSI300 Company',
                'verbose_name_plural': 'CSI300 Companies',
                'db_table': 'csi300_company',
                'ordering': ['ticker'],
            },
        ),
        migrations.CreateModel(
            name='CSI300InvestmentSummary',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('report_date', models.DateField(help_text='Report date')),
                ('stock_price_previous_close', models.DecimalField(blank=True, decimal_places=6, help_text='Previous close price', max_digits=10, null=True)),
                ('market_cap_display', models.CharField(blank=True, help_text='Market cap display format', max_length=100, null=True)),
                ('recommended_action', models.CharField(blank=True, help_text='Investment recommendation', max_length=50, null=True)),
                ('recommended_action_detail', models.TextField(blank=True, help_text='Detailed recommendation', null=True)),
                ('business_overview', models.TextField(blank=True, help_text='Business overview', null=True)),
                ('business_performance', models.TextField(blank=True, help_text='Business performance analysis', null=True)),
                ('industry_context', models.TextField(blank=True, help_text='Industry context', null=True)),
                ('financial_stability', models.TextField(blank=True, help_text='Financial stability analysis', null=True)),
                ('key_financials_valuation', models.TextField(blank=True, help_text='Key financials and valuation', null=True)),
                ('big_trends_events', models.TextField(blank=True, help_text='Big trends and events', null=True)),
                ('customer_segments', models.TextField(blank=True, help_text='Customer segments analysis', null=True)),
                ('competitive_landscape', models.TextField(blank=True, help_text='Competitive landscape', null=True)),
                ('risks_anomalies', models.TextField(blank=True, help_text='Risks and anomalies', null=True)),
                ('forecast_outlook', models.TextField(blank=True, help_text='Forecast and outlook', null=True)),
                ('investment_firms_views', models.TextField(blank=True, help_text='Investment firms views', null=True)),
                ('industry_ratio_analysis', models.TextField(blank=True, help_text='Industry ratio analysis', null=True)),
                ('tariffs_supply_chain_risks', models.TextField(blank=True, help_text='Tariffs and supply chain risks', null=True)),
                ('key_takeaways', models.TextField(blank=True, help_text='Key takeaways', null=True)),
                ('sources', models.TextField(blank=True, help_text='Data sources', null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('company', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='investment_summaries', to='csi300.csi300company')),
            ],
            options={
                'verbose_name': 'CSI300 Investment Summary',
                'verbose_name_plural': 'CSI300 Investment Summaries',
                'db_table': 'csi300_investment_summary',
                'ordering': ['-report_date'],
                'unique_together': {('company', 'report_date')},
            },
        ),
    ]
